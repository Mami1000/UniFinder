<nav class="nav-bar">
  <div class="nav-container">

    <!-- –õ–æ–≥–æ—Ç–∏–ø –≤—Å–µ–≥–¥–∞ —Å–ª–µ–≤–∞ -->
    <div class="logo-container">
      <span class="brand" (click)="navigateHome()">
      <img src="https://unifinderattachments.blob.core.windows.net/attachments/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo" />
      </span>
    </div>

    <!-- –ü–æ–∏—Å–∫–æ–≤–∏–∫ -->
    <div class="search-wrapper" *ngIf="isLoggedIn">
      <input 
        type="text" 
        class="search-input" 
        placeholder="–ù–∞–π—Ç–∏ —Ç–µ—Å—Ç..."
        [formControl]="searchControl"
      />
      <button class="search-btn" type="button" (click)="manualSearch()">
        <span class="material-icons">search</span>
      </button>
    </div>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è / –ö–æ–Ω—Ç—Ä–æ–ª—ã -->
    <div class="nav-links">
      <ng-container *ngIf="!isLoggedIn">
        <button class="theme-toggle-button" (click)="toggleDarkMode()">
          <ng-container *ngIf="darkMode; else lightMode">
            <span class="material-icons" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞">light_mode</span>
          </ng-container>
          <ng-template #lightMode>
            <span class="material-icons" title="–ù–æ—á–Ω–∞—è —Ç–µ–º–∞">dark_mode</span>
          </ng-template>
        </button>
      </ng-container>

      <ng-container *ngIf="isLoggedIn">
        <div class="user-menu">
          <div class="user-controls">
            <button class="theme-toggle-button" (click)="toggleDarkMode()">
              <ng-container *ngIf="darkMode; else lightModeUser">
                <span class="material-icons" title="–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞">light_mode</span>
              </ng-container>
              <ng-template #lightModeUser>
                <span class="material-icons" title="–ù–æ—á–Ω–∞—è —Ç–µ–º–∞">dark_mode</span>
              </ng-template>
            </button>

            <div class="font-size-controls">
              <button class="font-size-button" (click)="decreaseFontSize()">A-</button>
              <button class="font-size-button" (click)="increaseFontSize()">A+</button>
            </div>
          </div>

          <div class="user-info">
            <span class="user-name">–ê–±–∏—Ç—É—Ä–∏–µ–Ω—Ç: {{ userName }}</span>
          </div>

          <div class="dropdown"
            (mouseenter)="hoveringMenu = true"
            (mouseleave)="hoveringMenu = false">
          <span class="dropbtn gear-icon" (click)="toggleMenu()">
            {{ hoveringMenu ? 'üõ†Ô∏è' : '‚öôÔ∏è' }}
          </span>
            <div class="dropdown-content" [ngClass]="{'show': menuOpen}">
              <a routerLink="/dashboard" routerLinkActive="active">–ü—Ä–æ—Ñ–∏–ª—å</a>
              <a routerLink="/test/list" routerLinkActive="active">–¢–µ—Å—Ç—ã</a>
              <a routerLink="/universities" routerLinkActive="active">–£–Ω–∏–≤–µ—Ä—ã</a>
              <a routerLink="/profession/list" routerLinkActive="active">–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏</a>
              <a routerLink="/categories" routerLinkActive="active">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
              <a *ngIf="isAdmin" routerLink="/category/create" routerLinkActive="active">–°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</a>
              <a *ngIf="isAdmin" routerLink="/test/create" routerLinkActive="active">–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç</a>
              <a *ngIf="isAdmin" routerLink="/universities/create" routerLinkActive="active">–°–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</a>
              <a *ngIf="isAdmin" routerLink="/profession/create" routerLinkActive="active">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏—é</a>
              <a *ngIf="isAdmin" routerLink="/profession/bulk-upload" routerLinkActive="active">–°–æ–∑–¥–∞—Ç—å –º–∞—Å—Å–æ–≤—É—é –ø—Ä–æ—Ñ–µ—Å—Å–∏—é</a>
              <a (click)="logout()">–í—ã—Ö–æ–¥</a>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</nav>
